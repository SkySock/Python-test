# Тестовое задание на _Python_-программиста

В этом репозитории реализовано API приложения для планирования пикников, состоящие из сущностей:
 - Город
 - Пикник
 - Пользователь
 - Регистрация пользователя на пикник

## Задание
 Тестовое задание подразумевает изменение представленного здесь кода для достижения следующих задач:


### Запуск с Docker

1. Склонировать репозиторий
2. В корне проекта создать и заполнить файл `.env`
```dotenv
POSTGRES_DB=testcrt
POSTGRES_USER=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_PASSWORD=password

WEATHER_API_KEY=your_api_key
```
3. Собрать образ
```commandline
docker-compose build
```
4. Запустить
```commandline
docker-compose up
```
## Результат выполнения задания
### Минимальный уровень
1. Был ознакомлен с документацией
2. Добавить доп. возможности и исправить ошибку
     - Добавлен поиск городов по совпадению со строкой
     - Добавлена фильтрация пользователей по возрасту
     - Исправлена ошибка при создании пикника
     - Добавлен метод регистрации пользователя на пикник
3. Идеи рефакторинга файла `external_requests.py`:
    - Вынести ключ доступа в переменные виртуального окружения (сделано)
    - Некоторые методы можно обозначить приватными
4. Возможные проблемы при масштабировании:
     - Неоптимизированный запрос на получение списка городов из-за обращения к API погоды по каждому городу в списке.
     - Большие ответы из-за отсутствия пагинации может привести к нехватке памяти.
     - Медленное получение данных из-за отсутствия индексов

### Продвинутый уровень
1. Привести к нормальному виду эндпоинты (сделано)
2. Расписать все входные/выходные поля в документации (TODO)
3. Оптимизировать работу с базой данных в запросе `GET /picnics/` (TODO)
4. Сменить базу данных на `PostgreSQL`(сделано)
5. Отрефакторить файл `external_requests.py`(TODO)
6. Написать тесты (TODO)

### Дополнительные задания
  - Сделать логирование в файл, который не будет очищаться после перезапуска в докере (TODO)
  - Описать правильную архитектуру для проекта (TODO)
